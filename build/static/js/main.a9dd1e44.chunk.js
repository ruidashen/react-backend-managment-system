(this["webpackJsonpreact-admin-cilent"]=this["webpackJsonpreact-admin-cilent"]||[]).push([[0],{1208:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),c=a.n(o),i=a(18),s=a(19),l=a(22),u=a(20),m=a(21),d=a(103),p=a(117),h=(a(71),a(28)),f=(a(119),a(33)),g=(a(96),a(43)),b=(a(120),a(6)),y=a(16),v=a.n(y),E=a(31),O=(a(542),a(510)),w=a.n(O),j=a(76),k="set_head_title",C="receive_user",S="show_error_msg",P="reset_user",x=(a(105),a(42)),N=a(162),I=a(196),F=a.n(I);function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise((function(n,r){("GET"===a?F.a.get(e,{params:t}):F.a.post(e,t)).then((function(e){n(e.data)})).catch((function(e){x.a.error("Request error: "+e)}))}))}var R=function(e,t){return _("/login",{username:e,password:t},"POST")},D=function(e){return _("/manage/category/list",{parentId:e})},T=function(e){return _("/manage/category/info",{categoryId:e})},U=function(e){return _("/manage/category/update",{categoryId:e.categoryId,categoryName:e.categoryName},"POST")},A=function(e){return _("/manage/category/add",{parentId:e.parentId,categoryName:e.categoryName},"POST")},M=function(e,t){return _("/manage/product/list",{pageNum:e,pageSize:t})},L=function(e){var t=e.pageNum,a=e.pageSize,n=e.keywords,r=e.searchType;return _("/manage/product/search",Object(N.a)({pageNum:t,pageSize:a},r,n))},q=function(e){return new Promise((function(t,a){var n="http://api.openweathermap.org/data/2.5/weather?zip=".concat(e,"&appid=1e8c28669e9ce829c28e99ac6cae3c0e&units=metric");F()(n).then((function(e){var a={temp:e.data.main.temp,name:e.data.name};t(a)})).catch((function(e){x.a.error("Retreiving weather info failed, please check your settings.")}))}))},z=function(e,t){return _("/manage/product/updateStatus",{productId:e,status:t},"POST")},V=function(e){return _("/manage/product/"+(e._id?"update":"add"),e,"POST")},K=function(e){return _("/manage/img/delete",{name:e},"POST")},B=function(){return _("/manage/role/list")},H=function(e){return _("/manage/role/add",{roleName:e},"POST")},W=function(e){return _("/manage/role/update",e,"POST")},J=function(){return _("/manage/user/list")},Q=function(e){return _("/manage/user/delete",{userId:e},"POST")},$=function(e){return _("/manage/user/"+(e._id?"update":"add"),e,"POST")},G=a(252),Z=a.n(G),X=function(e){Z.a.set("user_key",e)},Y=function(){return Z.a.get("user_key")},ee=function(){Z.a.remove("user_key")},te=function(){return ee(),{type:P}},ae=function(e){return{type:S,errorMsg:e}},ne=function(e){return{type:C,user:e}},re=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).Pwdvalidator=function(e,t,a){t?t.length>12?a("Password must be less than 12 characters!"):t.length<4?a("Password must be at least 4 characters long!"):/^[a-zA-Z0-9_]+$/.test(t)?a():a("Password can only contain numbers,letters and underscore."):a("Please input your password!")},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(E.a)(v.a.mark((function e(t,n){var r,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?console.log(t):(r=n.username,o=n.password,a.props.login(r,o));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.user;if(e&&e._id)return r.a.createElement(p.a,{to:"/"});var t=this.props.user.errorMsg,a=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"login"},r.a.createElement("header",{className:"login-header"},r.a.createElement("img",{src:w.a,alt:"logo"}),r.a.createElement("h1",null,"React Content Management System")),r.a.createElement("section",{className:"login-content"},r.a.createElement("div",null,t),r.a.createElement("h2",null,"Login"),r.a.createElement(f.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(f.a.Item,null,a("username",{rules:[{required:!0,whitespace:!0,message:"Please input your username!"},{max:12,message:"Username must be less than 12 characters!"},{min:4,message:"Username must be at least 4 characters long!"},{pattern:/^[a-zA-Z0-9_]+$/,message:"Username can only contain numbers,letters and underscore."}]})(r.a.createElement(g.a,{prefix:r.a.createElement(b.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(f.a.Item,null,a("password",{rules:[{validator:this.Pwdvalidator}]})(r.a.createElement(g.a,{prefix:r.a.createElement(b.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Password",type:"password"}))),r.a.createElement(f.a.Item,null,r.a.createElement(h.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Submit")))))}}]),t}(n.Component),oe=f.a.create()(re),ce=Object(j.b)((function(e){return{user:e.user}}),{login:function(e,t){return function(){var a=Object(E.a)(v.a.mark((function a(n){var r,o,c;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,R(e,t);case 2:0===(r=a.sent).status?(o=r.data,X(o),n(ne(o))):(c=r.msg,n(ae(c)));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})(oe),ie=(a(691),a(169)),se=(a(693),a(142)),le=(a(696),[{title:"Home",key:"/home",icon:"home",isPublic:!0},{title:"Products",key:"/products",icon:"appstore",children:[{title:"Category",key:"/category",icon:"bars"},{title:"Product",key:"/product",icon:"tool"}]},{title:"User",key:"/user",icon:"user"},{title:"Role",key:"/role",icon:"safety"},{title:"Charts",key:"/charts",icon:"area-chart",children:[{title:"Bar Chart",key:"/charts/bar",icon:"bar-chart"},{title:"Line Chart",key:"/charts/line",icon:"line-chart"},{title:"Pie Chart",key:"/charts/pie",icon:"pie-chart"}]}]),ue=se.a.SubMenu,me=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getMenuNodes=function(e){var t=a.props.location.pathname;return e.map((function(e){return a.userHasAuth(e)?e.children?(e.children.find((function(e){return e.key===t}))&&(a.openKey=e.key),r.a.createElement(ue,{key:e.key,title:r.a.createElement("span",null,r.a.createElement(b.a,{type:e.icon}),r.a.createElement("span",null,e.title))},a.getMenuNodes(e.children))):(e.key!==t&&0!==t.indexOf(e.key)||a.props.setHeadTitle(e.title),r.a.createElement(se.a.Item,{key:e.key},r.a.createElement(d.b,{to:e.key,onClick:function(){return a.props.setHeadTitle(e.title)}}),r.a.createElement(b.a,{type:e.icon}),r.a.createElement("span",null,e.title))):null}))},a.userHasAuth=function(e){var t=e.key,n=e.isPublic,r=a.props.user,o=r.role.menus;return!!("admin"===r.username||n||o.indexOf(t)>=0)||!!e.children&&!!e.children.find((function(e){return o.indexOf(e.key)>=0}))},a.menuNodes=a.getMenuNodes(le),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.location.pathname;return 0===e.indexOf("/product")&&(e="/product"),r.a.createElement("div",{to:"/",className:"left-nav"},r.a.createElement(d.b,{to:"/",className:"left-nav-header"},r.a.createElement(b.a,{type:"user",className:"icon"}),r.a.createElement("h1",{style:{fontSize:"1em"}},"React Back End Management System")),r.a.createElement("div",null,r.a.createElement(se.a,{selectedKeys:[e],defaultOpenKeys:[this.openKey],mode:"inline",theme:"dark"},this.menuNodes)))}}]),t}(n.Component),de=Object(j.b)((function(e){return{user:e.user}}),{setHeadTitle:function(e){return{type:k,title:e}}})(Object(p.g)(me)),pe=(a(174),a(68));function he(e){if(!e)return"";var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}a(705);function fe(e){return r.a.createElement("button",Object.assign({},e,{className:"link-button"}))}a(706);var ge=pe.a.confirm,be=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentTime:he(Date.now()),temp:"location unknown",cityName:""},a.getTime=function(){a.intervalId=setInterval((function(){var e=he(Date.now());a.setState({currentTime:e})}),1e3)},a.getWeather=function(){q("94087,us").then((function(e){a.setState({temp:e.temp.toFixed(0),cityName:e.name})}))},a.logOut=function(e){e.preventDefault(),ge({title:"Are you sure to log out?",onOk:function(){a.props.logout()}})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getTime(),this.getWeather()}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"render",value:function(){var e=this.props.headerTitle;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-top"},r.a.createElement("span",null,"Welcome, ",this.props.user.username),r.a.createElement(fe,{onClick:this.logOut},"Log out")),r.a.createElement("div",{className:"header-bottom"},r.a.createElement("div",{className:"header-bottom-left"},e),r.a.createElement("div",{className:"header-bottom-right"},r.a.createElement("span",null,this.state.currentTime),r.a.createElement(b.a,{type:"cloud",className:"weather-icon"}),r.a.createElement("span",{className:"city-name"},"Cupertino"),r.a.createElement("span",null,this.state.temp," \xb0C"))))}}]),t}(n.Component),ye=Object(j.b)((function(e){return{headerTitle:e.headerTitle,user:e.user}}),{logout:te})(Object(p.g)(be)),ve=(a(707),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"home"},"Welcome to React backend management system")}}]),t}(n.Component)),Ee=(a(102),a(47)),Oe=(a(236),a(116)),we=(a(175),a(58)),je=f.a.Item,ke=we.a.Option,Ce=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).props.setForm(a.props.form),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.categories,a=e.parentId,n=this.props.form.getFieldDecorator;return r.a.createElement(f.a,null,r.a.createElement(je,{label:"Category:"},n("parentId",{initialValue:a})(r.a.createElement(we.a,null,r.a.createElement(ke,{value:"0"},"Primary Category"),t.map((function(e){return r.a.createElement(ke,{value:e._id},e.name)}))))),r.a.createElement(je,{label:"Category Name:"},n("categoryName",{initialValue:"",rules:[{required:!0,message:"Category name is required!"}]})(r.a.createElement(g.a,{placeholder:"Please enter name for the category"}))))}}]),t}(n.Component),Se=f.a.create()(Ce),Pe=f.a.Item,xe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).props.setForm(a.props.form),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.categoryName,t=this.props.form.getFieldDecorator;return r.a.createElement(f.a,null,r.a.createElement(Pe,null,t("categoryName",{initialValue:e,rules:[{required:!0,message:"Category name is required!"}]})(r.a.createElement(g.a,{placeholder:"Please enter name for the category"}))))}}]),t}(n.Component),Ne=f.a.create()(xe),Ie=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={categories:[],subCategories:[],isLoading:!1,parentId:"0",parentName:"",showStatus:0},a.initColumns=function(){a.columns=[{title:"Category Name",dataIndex:"name"},{title:"Action",width:300,render:function(e){return r.a.createElement("span",null,r.a.createElement(fe,{onClick:function(){a.showUpdate(e)}},"Modify Category"),"0"===a.state.parentId?r.a.createElement(fe,{onClick:function(){a.getSubCategories(e)}},"View Subcategory"):null)}}]},a.getCategories=function(){var e=Object(E.a)(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||a.state.parentId,a.setState({isLoading:!0}),e.next=4,D(t);case 4:0===(n=e.sent).status?(r=n.data,"0"===t?a.setState({categories:r,isLoading:!1}):a.setState({subCategories:r,isLoading:!1})):x.a.error("Retreive category lists failed");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getSubCategories=function(){var e=Object(E.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({parentId:t._id,parentName:t.name},(function(){a.getCategories()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.showCategories=function(){a.setState({parentName:"",parentId:"0",subCategories:[]})},a.handleCancel=function(){a.form.resetFields(),a.setState({showStatus:0})},a.showAdd=function(){a.setState({showStatus:1})},a.addCategory=function(){a.form.validateFields(function(){var e=Object(E.a)(v.a.mark((function e(t,n){var r,o,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=8;break}return a.setState({showStatus:0}),r=a.form.getFieldsValue(),o=r.categoryName,c=r.parentId,a.form.resetFields(),e.next=6,A({parentId:c,categoryName:o});case 6:0===e.sent.status&&(c===a.state.parentId?a.getCategories():"0"===c&&a.getCategories("0"));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},a.showUpdate=function(e){a.category=e,a.setState({showStatus:2})},a.updateCategory=function(){a.form.validateFields(function(){var e=Object(E.a)(v.a.mark((function e(t,n){var r,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=9;break}return a.setState({showStatus:0}),r=a.category._id,o=a.form.getFieldValue("categoryName"),a.form.resetFields(),e.next=7,U({categoryId:r,categoryName:o});case 7:0===e.sent.status&&a.getCategories();case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},a.initColumns(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getCategories()}},{key:"render",value:function(){var e=this,t=this.state,a=t.categories,n=t.parentId,o=t.parentName,c=t.subCategories,i=t.isLoading,s=t.showStatus,l=this.category||{},u="0"===n?"Category List":r.a.createElement("span",null,r.a.createElement(fe,{onClick:this.showCategories},"Category List"),r.a.createElement(b.a,{type:"arrow-right",style:{marginRight:5}}),r.a.createElement("span",null,o)),m=r.a.createElement(h.a,{type:"primary",onClick:this.showAdd},r.a.createElement(b.a,{type:"plus"}),"Add"),d=this.state.categories;return r.a.createElement("div",null,r.a.createElement(Ee.a,{title:u,extra:m},r.a.createElement(Oe.a,{bordered:!0,columns:this.columns,dataSource:"0"===n?d:c,rowKey:"_id",pagination:{defaultPageSize:5,showQuickJumper:!0,showSizeChanger:!0},loading:i}),r.a.createElement(pe.a,{title:"Add Category",visible:1===s,onOk:this.addCategory,onCancel:this.handleCancel},r.a.createElement(Se,{categories:a,parentId:n,setForm:function(t){e.form=t}})),r.a.createElement(pe.a,{title:"Update Category",visible:2===s,onOk:this.updateCategory,onCancel:this.handleCancel},r.a.createElement(Ne,{categoryName:l.name,setForm:function(t){e.form=t}}))))}}]),t}(n.Component),Fe=5,_e="/upload/";function Re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function De(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Re(a,!0).forEach((function(t){Object(N.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Re(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Te=we.a.Option,Ue=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={products:[],total:0,loading:!1,keywords:"",searchType:"productName"},a.initColumns=function(){a.columns=[{title:"Name",dataIndex:"name"},{title:"Description",dataIndex:"desc"},{title:"Price",dataIndex:"price",render:function(e){return"$"+e}},{width:150,title:"Status",render:function(e){var t=e.status,n=e._id,o=1===t?2:1;return r.a.createElement("div",{id:"status_cell"},r.a.createElement("span",null,r.a.createElement("span",null,1===t?"On Sale":"Discontinued"),r.a.createElement(h.a,{id:"modify_status_button",type:"primary",onClick:function(){return a.updateStatus(n,o)}},1===t?"Remove from store":"Launch")))}},{width:100,title:"Action",render:function(e){return r.a.createElement("span",null,r.a.createElement(fe,{onClick:function(){return a.props.history.push("/product/detail",{product:e})}},"Details"),r.a.createElement(fe,{onClick:function(){return a.props.history.push("/product/addupdate",e)}},"Modify"))}}]},a.updateStatus=function(){var e=Object(E.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t,n);case 2:0===e.sent.status&&(x.a.success("Product Updated"),a.getProducts(a.pageNum));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.getProducts=function(){var e=Object(E.a)(v.a.mark((function e(t){var n,r,o,c,i,s,l,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setState({loading:!0}),a.pageNum=t,n=a.state,r=n.keywords,o=n.searchType,!r){e.next=9;break}return e.next=6,L({pageNum:t,pageSize:Fe,keywords:r,searchType:o});case 6:c=e.sent,e.next=12;break;case 9:return e.next=11,M(t,Fe);case 11:c=e.sent;case 12:a.setState({loading:!1}),0===c.status&&(i=c.data,s=i.total,l=i.list,u=l.map((function(e,t){return De({},e,{key:t})})),a.setState({total:s,products:u}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.initColumns(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getProducts(1)}},{key:"render",value:function(){var e=this,t=this.state,a=t.products,n=t.total,o=t.loading,c=t.searchType,i=t.keywords,s=r.a.createElement("span",null,r.a.createElement(we.a,{value:c,onChange:function(t){return e.setState({searchType:t})},style:{width:"165px"}},r.a.createElement(Te,{value:"productName"},"Search by name"),r.a.createElement(Te,{value:"productDesc"},"Search by description")),r.a.createElement(g.a,{placeholder:"keyword",style:{width:150,margin:"0 15px"},value:i,onChange:function(t){e.setState({keywords:t.target.value})}}),r.a.createElement(h.a,{type:"primary",onClick:function(){return e.getProducts(1)}},"Search")),l=r.a.createElement(h.a,{type:"primary",onClick:function(){return e.props.history.push("/product/addupdate")}},r.a.createElement(b.a,{type:"plus",viewBox:"0 0 1024 1024"}),"Add Product");return r.a.createElement(Ee.a,{title:s,extra:l},r.a.createElement(Oe.a,{bordered:!0,dataSource:a,columns:this.columns,pagination:{total:n,defaultPageSize:Fe,showQuickJumper:!0,onChange:this.getProducts,loading:{loading:o},current:this.pageNum}}))}}]),t}(n.Component),Ae=(a(768),a(341)),Me=Ae.a.Item,Le=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={cName1:"",cName2:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(E.a)(v.a.mark((function e(){var t,a,n,r,o,c,i,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.location.state.product,a=t.pCategoryId,n=t.categoryId,"0"!==a){e.next=9;break}return e.next=4,T(n);case 4:r=e.sent,o=r.data.name,this.setState({cName1:o}),e.next=15;break;case 9:return e.next=11,Promise.all([T(a),T(n)]);case 11:c=e.sent,i=c[0].data.name,s=c[1].data.name,this.setState({cName1:i,cName2:s});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.location.state.product,a=t.name,n=t.desc,o=t.price,c=t.detail,i=t.imgs.map((function(e){return r.a.createElement("span",{key:e},r.a.createElement("img",{className:"product-img",src:_e+e,alt:"img"}))})),s=this.state,l=s.cName1,u=s.cName2,m=r.a.createElement("span",null,r.a.createElement(fe,null,r.a.createElement(b.a,{type:"arrow-left",style:{marginRight:10,fontSize:20},onClick:function(){return e.props.history.goBack()}})),r.a.createElement("span",null,"Products"));return r.a.createElement(Ee.a,{title:m,className:"product-detail"},r.a.createElement(Ae.a,null,r.a.createElement(Me,null,r.a.createElement("span",{className:"left"},"Product Name:"),r.a.createElement("span",null,a)),r.a.createElement(Me,null,r.a.createElement("span",{className:"left"},"Product Description:"),r.a.createElement("span",null,n)),r.a.createElement(Me,null,r.a.createElement("span",{className:"left"},"Product Price:"),r.a.createElement("span",null,"$",o)),r.a.createElement(Me,null,r.a.createElement("span",{className:"left"},"Category:"),r.a.createElement("span",null,l," --\x3e ",u)),r.a.createElement(Me,null,r.a.createElement("span",{className:"left"},"Product Images:"),i),r.a.createElement(Me,null,r.a.createElement("span",{className:"left"},"Product Detail:"),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:c}}))))}}]),t}(n.Component),qe=(a(770),a(528)),ze=a(250),Ve=a(239),Ke=(a(1209),a(526));function Be(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))}var He=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getImgs=function(){return a.state.fileList.map((function(e){return e.name}))},a.handleCancel=function(){return a.setState({previewVisible:!1})},a.handlePreview=function(){var e=Object(E.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,Be(t.originFileObj);case 3:t.preview=e.sent;case 4:a.setState({previewImage:t.url||t.preview,previewVisible:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(){var e=Object(E.a)(v.a.mark((function e(t){var n,r,o,c,i,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.file,r=t.fileList,"done"!==n.status){e.next=6;break}0===(o=n.response).status?(x.a.success("Picture Uploaded!"),c=o.data,i=c.name,s=c.url,(n=r[r.length-1]).name=i,n.url=s):x.a.error("Picture Upload Failed!"),e.next=11;break;case 6:if("removed"!==n.status){e.next=11;break}return e.next=9,K(n.name);case 9:0===e.sent.status?x.a.success("Picture Deleted"):x.a.error("Picture Deletion Failed!");case 11:a.setState({fileList:r});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var n=[],r=a.props.imgs;return r&&r.length>0&&(n=r.map((function(e,t){return{uid:-t,name:e,status:"done",url:_e+e}}))),a.state={previewVisible:!1,previewImage:"",fileList:n},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.previewVisible,a=e.previewImage,n=e.fileList,o=r.a.createElement("div",null,r.a.createElement("div",null,"Upload"));return r.a.createElement("div",null,r.a.createElement(Ke.a,{name:"image",accept:"image/*",action:"/manage/img/upload",listType:"picture-card",fileList:n,onPreview:this.handlePreview,onChange:this.handleChange},n.length>=8?null:o),r.a.createElement(pe.a,{visible:t,footer:null,onCancel:this.handleCancel},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:a})))}}]),t}(n.Component),We=a(140),Je=a(521),Qe=a(522),$e=a.n(Qe),Ge=a(523),Ze=a.n(Ge),Xe=(a(900),function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).uploadImageCallBack=function(e){return new Promise((function(t,a){var n=new XMLHttpRequest;n.open("POST","/manage/img/upload");var r=new FormData;r.append("image",e),n.send(r),n.addEventListener("load",(function(){var e=JSON.parse(n.responseText).data.url;t({data:{link:e}})})),n.addEventListener("error",(function(){var e=JSON.parse(n.responseText);a(e)}))}))},a.onEditorStateChange=function(e){a.setState({editorState:e})},a.getDetail=function(){try{var e=a.state.editorState.getCurrentContent();if(e)return $e()(Object(We.convertToRaw)(e))}catch(t){return""}};var n=a.props.detail;if(n){var r=Ze()(n),o=We.ContentState.createFromBlockArray(r.contentBlocks),c=We.EditorState.createWithContent(o);a.state={editorState:c}}else a.state=We.EditorState.createEmpty();return a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.editorState;return r.a.createElement(Je.Editor,{editorState:e,editorStyle:{border:"1px solid black",minHeight:200,paddingLeft:10},onEditorStateChange:this.onEditorStateChange,toolbar:{image:{uploadCallback:this.uploadImageCallBack,alt:{present:!0,mandatory:!0},previewImage:!0}}})}}]),t}(n.Component)),Ye=f.a.Item,et=g.a.TextArea,tt=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={options:[]},a.initOptions=function(){var e=Object(E.a)(v.a.mark((function e(t){var n,r,o,c,i,s,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.map((function(e){return{value:e._id,label:e.name,isLeaf:!1}})),r=Object(Ve.a)(a),o=r.isUpdate,c=r.product,i=c.pCategoryId,!o||"0"===i){e.next=10;break}return e.next=6,a.getCategories(i);case 6:s=e.sent,l=s.map((function(e){return{value:e._id,label:e.name,isLeaf:!0}})),n.find((function(e){return e.value===i})).children=l;case 10:a.setState({options:n});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.loadData=function(){var e=Object(E.a)(v.a.mark((function e(t){var n,r,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t[0]).loading=!0,e.next=4,a.getCategories(n.value);case 4:r=e.sent,n.loading=!1,r&&r.length>0?(o=r.map((function(e){return{value:e._id,label:e.name,isLeaf:!0}})),n.children=o):n.isLeaf=!0,a.setState({options:Object(ze.a)(a.state.options)});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.submit=function(){a.props.form.validateFields(function(){var e=Object(E.a)(v.a.mark((function e(t,n){var r,o,c,i,s,l,u,m,d;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=11;break}return r=n.name,o=n.desc,c=n.price,1===(i=n.categoryIds).length?(s="0",l=i[0]):(s=i[0],l=i[1]),u=a.pw.current.getImgs(),m=a.ed.current.getDetail(),d={name:r,desc:o,price:c,pCategoryId:s,categoryId:l,imgs:u,detail:m},a.isUpdate&&(d._id=a.product._id),e.next=9,V(d);case 9:0===e.sent.status?(x.a.success("".concat(a.isUpdate?"Product Update ":"Product Add "," Succeeded!")),a.props.history.goBack()):x.a.error("".concat(a.isUpdate?"Product Update ":"Product Add "," Failed!"));case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},a.validatePrice=function(e,t,a){1*t<=0?a("Price must be greater than 0!"):a()},a.getCategories=function(){var e=Object(E.a)(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t);case 2:if(0!==(n=e.sent).status){e.next=10;break}if(r=n.data,"0"!==t){e.next=9;break}a.initOptions(r),e.next=10;break;case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.pw=r.a.createRef(),a.ed=r.a.createRef();var n=a.props.location.state;return a.isUpdate=!!n,a.product=n||{},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getCategories("0")}},{key:"render",value:function(){var e=this,t=this.isUpdate,a=this.product,n=a.pCategoryId,o=a.categoryId,c=a.imgs,i=a.detail,s=[];t&&("0"===n?s.push(o):(s.push(n),s.push(o)));var l=r.a.createElement("span",null,r.a.createElement(fe,{onClick:function(){return e.props.history.goBack()}},r.a.createElement(b.a,{type:"arrow-left",style:{fontSize:20}})),r.a.createElement("span",null,t?"Modify Product":"Add Product")),u=this.props.form.getFieldDecorator;return r.a.createElement(Ee.a,{title:l},r.a.createElement(f.a,{labelCol:{span:3},wrapperCol:{span:8}},r.a.createElement(Ye,{label:"Product Name"},u("name",{initialValue:this.product.name,rules:[{required:!0,message:"Product name required!"}]})(r.a.createElement(g.a,{placeholder:"Please Enter Product Name"}))),r.a.createElement(Ye,{label:"Product Description:"},u("desc",{initialValue:this.product.desc,rules:[{required:!0,message:"Product description required!"}]})(r.a.createElement(et,{autosize:{minRows:2,maxRows:6},placeholder:"Please Enter Product Description!"}))),r.a.createElement(Ye,{label:"Product Price"},u("price",{initialValue:this.product.price,rules:[{required:!0,message:"Price is required!"},{validator:this.validatePrice}]})(r.a.createElement(g.a,{addonAfter:"USD",type:"number",placeholder:"Please Enter Product Price"}))),r.a.createElement(Ye,{label:"Product Category"},u("categoryIds",{initialValue:s,rules:[{required:!0,message:"Category is required!"}]})(r.a.createElement(qe.a,{placeholder:"Please select product category",options:this.state.options,loadData:this.loadData}))),r.a.createElement(Ye,{label:"Product Pictures"},r.a.createElement(He,{ref:this.pw,imgs:c})),r.a.createElement(Ye,{label:"Product Detail",labelCol:{span:3},wrapperCol:{span:20}},r.a.createElement(Xe,{ref:this.ed,detail:i})),r.a.createElement(Ye,null,r.a.createElement(h.a,{type:"primary",onClick:this.submit},"Submit"))))}}]),t}(n.Component),at=f.a.create()(tt),nt=(a(901),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,component:Ue,path:"/product"}),r.a.createElement(p.b,{component:Le,path:"/product/detail"}),r.a.createElement(p.b,{component:at,path:"/product/addupdate"}),r.a.createElement(p.a,{to:"/product"}))}}]),t}(n.Component)),rt=f.a.Item,ot=(we.a.Option,function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).props.setForm(a.props.form),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(f.a,{labelCol:{span:5},wrapperCol:{span:15}},r.a.createElement(rt,{label:"Role Name:"},e("roleName",{initialValue:"",rules:[{required:!0,message:"Role name is required!"}]})(r.a.createElement(g.a,{placeholder:"Please enter name for the role"}))))}}]),t}(n.Component)),ct=f.a.create()(ot),it=(a(902),a(527)),st=f.a.Item,lt=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getTreeNodes=function(e){return e.reduce((function(e,t){return e.push({title:t.title,key:t.key,children:t.children?a.getTreeNodes(t.children):null}),e}),[])},a.onCheck=function(e){a.setState({checkedKeys:e})},a.getMenus=function(){return a.state.checkedKeys},a.treeNodes=a.getTreeNodes(le);var n=a.props.role.menus;return a.state={checkedKeys:n},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.role.menus;this.setState({checkedKeys:t})}},{key:"render",value:function(){var e=this.props.role,t=this.state.checkedKeys,a={title:"System Permission",key:"all",children:this.treeNodes};return r.a.createElement(f.a,{labelCol:{span:5},wrapperCol:{span:15}},r.a.createElement(st,{label:"Role"},r.a.createElement(g.a,{value:e.name,disabled:!0})),r.a.createElement(it.a,{checkable:!0,checkedKeys:t,defaultExpandAll:!0,onSelect:this.onSelect,onCheck:this.onCheck,treeData:a}))}}]),t}(n.PureComponent),ut=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={roles:[],role:{},showAddForm:!1,showPermissionForm:!1},a.initColumn=function(){a.columns=[{title:"Role Name",dataIndex:"name"},{title:"Time Created",dataIndex:"create_time",render:he},{title:"Time Authorized",dataIndex:"auth_time",render:he},{title:"Authorizer",dataIndex:"auth_name"}]},a.onRow=function(e){return{onClick:function(){a.setState({role:e})}}},a.addRole=function(){a.form.validateFields(function(){var e=Object(E.a)(v.a.mark((function e(t,n){var r,o,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=7;break}return a.setState({showAddForm:!1}),r=n.roleName,e.next=5,H(r);case 5:0===(o=e.sent).status?(x.a.success("Role Added!"),c=o.data,a.setState((function(e){return{roles:[].concat(Object(ze.a)(e.roles),[c])}}))):x.a.error("Request failed! Something was wrong");case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},a.getRoles=Object(E.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:0===(t=e.sent).status&&(n=t.data,a.setState({roles:n}));case 4:case"end":return e.stop()}}),e)}))),a.updateRole=Object(E.a)(v.a.mark((function e(){var t,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({showPermissionForm:!1}),t=a.state.role,n=a.permissionFormRef.current.getMenus(),t.menus=n,r=a.props.user,t.auth_name=r.username,e.next=8,W(t);case 8:0===e.sent.status?(a.getRoles(),t._id===r.role_id?(a.props.logout(),x.a.info("Permission for his role has changed, please login again")):x.a.success("Role updated!")):x.a.error("Request failed");case 10:case"end":return e.stop()}}),e)}))),a.componentDidMount=function(){a.getRoles()},a.initColumn(),a.permissionFormRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.roles,n=t.role,o=t.showAddForm,c=t.showPermissionForm,i=r.a.createElement("span",null,r.a.createElement(h.a,{type:"primary",onClick:function(){return e.setState({showAddForm:!0})}},"Create Role")," ","\xa0 \xa0",r.a.createElement(h.a,{type:"primary",disabled:!n._id,onClick:function(){return e.setState({showPermissionForm:!0})}},"Set Role Permissions"));return r.a.createElement(Ee.a,{title:i},r.a.createElement(Oe.a,{onRow:this.onRow,rowSelection:{type:"radio",selectedRowKeys:[n._id],onSelect:function(t){e.setState({role:t})}},bordered:!0,columns:this.columns,dataSource:a,rowKey:"_id",pagination:{defaultPageSize:Fe,showQuickJumper:!0,showSizeChanger:!0}}),r.a.createElement(pe.a,{title:"Add Role",visible:o,onOk:this.addRole,onCancel:function(){e.form.resetFields(),e.setState({showAddForm:!1})}},r.a.createElement(ct,{setForm:function(t){e.form=t}})),r.a.createElement(pe.a,{title:"Set role permissions",visible:c,onOk:this.updateRole,onCancel:function(){return e.setState({showPermissionForm:!1})}},r.a.createElement(lt,{role:n,ref:this.permissionFormRef})))}}]),t}(n.Component),mt=Object(j.b)((function(e){return{user:e.user}}),{logout:te})(ut),dt=f.a.Item,pt=we.a.Option,ht=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).props.setForm(a.props.form),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.roles,a=this.props.user||{};return r.a.createElement(f.a,{labelCol:{span:6},wrapperCol:{span:15}},r.a.createElement(dt,{label:"User Name:"},e("username",{initialValue:a.username,rules:[{required:!0,message:"User name is required!"}]})(r.a.createElement(g.a,{placeholder:"Please enter user name"}))),a._id?null:r.a.createElement(dt,{label:"Password:"},e("password",{initialValue:a.password,rules:[{required:!0,message:"Password is required!"}]})(r.a.createElement(g.a,{placeholder:"Please enter password",type:"password"}))),r.a.createElement(dt,{label:"Phone number:"},e("phone",{initialValue:a.phone,rules:[{required:!0,message:"Phone number is required!"}]})(r.a.createElement(g.a,{placeholder:"Please enter phone number"}))),r.a.createElement(dt,{label:"Email:"},e("email",{initialValue:a.email,rules:[{required:!0,message:"email is required!"}]})(r.a.createElement(g.a,{placeholder:"Please enter email"}))),r.a.createElement(dt,{label:"Role:"},e("role_id",{initialValue:a.role_id,rules:[{required:!0,message:"role is required!"}]})(r.a.createElement(we.a,null,t.map((function(e){return r.a.createElement(pt,{key:e._id},e.name)}))))))}}]),t}(n.PureComponent),ft=f.a.create()(ht),gt=pe.a.confirm,bt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={users:[],roles:[],isModalOn:!1},a.initRoleNames=function(e){var t=e.reduce((function(e,t){return e[t._id]=t.name,e}),{});a.roleNames=t},a.initColums=function(){a.columns=[{title:"User Name",dataIndex:"username"},{title:"Email",dataIndex:"email"},{title:"Phone",dataIndex:"phone"},{title:"Time Created",dataIndex:"create_time",render:he},{title:"Role",dataIndex:"role_id",render:function(e){return a.roleNames[e]}},{title:"Action",render:function(e){return r.a.createElement("span",null,r.a.createElement(fe,{onClick:function(){return a.showUpdate(e)}},"Modify"),r.a.createElement(fe,{onClick:function(){return a.deleteUser(e)}},"Delete"))}}]},a.showUpdate=function(e){a.user=e,a.setState({isModalOn:!0})},a.deleteUser=function(e){gt({title:"Do you want to delete ".concat(e.username,"?"),onOk:function(){var t=Object(E.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q(e._id);case 2:0===t.sent.status&&(x.a.success("User deleted!"),a.getUsers());case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()})},a.getUsers=Object(E.a)(v.a.mark((function e(){var t,n,r,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:0===(t=e.sent).status&&(n=t.data,r=n.users,o=n.roles,a.initRoleNames(o),a.setState({users:r,roles:o}));case 4:case"end":return e.stop()}}),e)}))),a.addOrUpdateUser=Object(E.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.form.getFieldsValue(),a.form.resetFields(),a.user&&(t._id=a.user._id),e.next=5,$(t);case 5:0===e.sent.status&&(x.a.success("User "+(a.user?"modified!":"created!")),a.getUsers(),a.setState({isModalOn:!1}));case 7:case"end":return e.stop()}}),e)}))),a.showCreate=function(){a.user=null,a.setState({isModalOn:!0})},a.componentDidMount=function(){a.getUsers()},a.initColums(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.users,n=t.isModalOn,o=t.roles,c=this.user||{},i=r.a.createElement(h.a,{type:"primary",onClick:function(){return e.setState(e.showCreate)}},"Create User");return r.a.createElement(Ee.a,{title:i},r.a.createElement(Oe.a,{bordered:!0,columns:this.columns,dataSource:a,rowKey:"_id",pagination:{defaultPageSize:Fe,showQuickJumper:!0,showSizeChanger:!0}}),r.a.createElement(pe.a,{title:c._id?"Modify User":"Create User",visible:n,onOk:this.addOrUpdateUser,onCancel:function(){e.setState({isModalOn:!1}),e.form.resetFields()}},r.a.createElement(ft,{setForm:function(t){return e.form=t},roles:o,user:this.user})))}}]),t}(n.Component),yt=a(167),vt=a.n(yt),Et=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getOption=function(){return{legend:{},tooltip:{},dataset:{source:[["product","2015","2016","2017"],["Matcha Latte",43.3,85.8,93.7],["Milk Tea",83.1,73.4,55.1],["Cheese Cocoa",86.4,65.2,82.5],["Walnut Brownie",72.4,53.9,39.1]]},xAxis:{type:"category"},yAxis:{},series:[{type:"bar"},{type:"bar"},{type:"bar"}]}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ee.a,null,r.a.createElement(h.a,{type:"primary",onClick:this.update,disabled:!0},"Update")),r.a.createElement(Ee.a,{title:"Bar Chart"},r.a.createElement(vt.a,{option:this.getOption(),style:{height:300}})))}}]),t}(n.Component),Ot=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getOption=function(){return{tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},series:[{name:"Source",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"30",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:335,name:"Category1"},{value:310,name:"Category2"},{value:234,name:"Category3"},{value:135,name:"Category4"},{value:1548,name:"Category5"}]}]}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ee.a,null,r.a.createElement(h.a,{type:"primary",onClick:this.update,disabled:!0},"Update")),r.a.createElement(Ee.a,{title:"Pie Chart"},r.a.createElement(vt.a,{option:this.getOption(),style:{height:300}})))}}]),t}(n.Component),wt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getOption=function(){return{xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[820,932,901,934,1290,1330,1320],type:"line"}]}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ee.a,null,r.a.createElement(h.a,{type:"primary",onClick:this.update,disabled:!0},"Update")),r.a.createElement(Ee.a,{title:"Line Chart"},r.a.createElement(vt.a,{option:this.getOption(),style:{height:300}})))}}]),t}(n.Component),jt=ie.a.Footer,kt=ie.a.Sider,Ct=ie.a.Content,St=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.user;return e&&e._id?r.a.createElement(ie.a,{style:{minHeight:"100%"}},r.a.createElement(kt,null,r.a.createElement(de,null)),r.a.createElement(ie.a,null,r.a.createElement(ye,null,"Header"),r.a.createElement(Ct,{style:{margin:"20px",backgroundColor:"#fff"}},r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/home",component:ve}),r.a.createElement(p.b,{path:"/category",component:Ie}),r.a.createElement(p.b,{path:"/product",component:nt}),r.a.createElement(p.b,{path:"/role",component:mt}),r.a.createElement(p.b,{path:"/user",component:bt}),r.a.createElement(p.b,{path:"/charts/pie",component:Ot}),r.a.createElement(p.b,{path:"/charts/line",component:wt}),r.a.createElement(p.b,{path:"/charts/bar",component:Et}),r.a.createElement(p.a,{to:"/home"}))),r.a.createElement(jt,{style:{textAlign:"center",color:"#cccccc"}},"\xa9Ruida Shen"))):r.a.createElement(p.a,{to:"/login"})}}]),t}(n.Component),Pt=Object(j.b)((function(e){return{user:e.user}}),{})(St),xt=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/login",component:ce}),r.a.createElement(p.b,{path:"/",component:Pt})))}}]),t}(n.Component),Nt=a(138);function It(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Ft="Home";var _t=Y()||{};var Rt=Object(Nt.c)({headerTitle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return t.title;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return t.user;case S:return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?It(a,!0).forEach((function(t){Object(N.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):It(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{errorMsg:t.errorMsg});case P:return{};default:return e}}}),Dt=a(525),Tt=Object(Nt.d)(Rt,Object(Nt.a)(Dt.a));c.a.render(r.a.createElement(j.a,{store:Tt},r.a.createElement(xt,null)),document.getElementById("root"))},510:function(e,t,a){e.exports=a.p+"static/media/icon.124aa9c9.png"},531:function(e,t,a){e.exports=a(1208)},542:function(e,t,a){},696:function(e,t,a){},705:function(e,t,a){},706:function(e,t,a){},707:function(e,t,a){},901:function(e,t,a){}},[[531,1,2]]]);
//# sourceMappingURL=main.a9dd1e44.chunk.js.map